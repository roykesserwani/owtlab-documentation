
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
      <ul id="toc" class="toc-list-h1">
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <p>- Apps
      parameters:
        - name: app_id
          in: path
          required: true
          description: The id of the app to retrieve
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: App details
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/App&quot;
              examples:</p>

<blockquote>
<p>openapi: &quot;3.0.0&quot;</p>

<p>info:</p>

<p>version: v1</p>

<p>title: Owtlab</p>

<p>servers:</p>

<ul>
<li>url: https://owtlab-dev.appspot.com/api</li>
</ul>

<p>paths:</p>

<p>/apps/{app_id}:</p>

<p>get:</p>

<p>security:</p>

<p>- bearerAuth: []</p>

<p>summary: Show app details</p>

<p>operationId: showApp</p>

<p>tags:</p>
</blockquote>

<p>sendgrid:
                  value: &amp;sendgridAppProperties
                    id: 1
                    name: Sendgrid
                    category: marketing
                    logo: https://owtlab.com/sendgrid.png
                    required_integration_fields:
                      - api_key
                  summary: Sendgrid</p>

<p>Twilio:
                  value: &amp;twilioAppProperties
                    id: 1
                    name: Twilio
                    category: sms
                    logo: https://owtlab.com/twilio.png
                    required_integration_fields:
                      - account_sid
                      - auth_token
                  summary: Twilio</p>

<p>Gmail:
                  value: &amp;gmailAppProperties
                    id: 4
                    name: Gmail
                    category: email
                    logo: https://owtlab.com/gmail.png
                    required_integration_fields:
                      - redirect_uri
                  summary: Gmail</p>

<p>MicrosoftExchange:
                  value: &amp;exchangeAppProperties
                    id: 5
                    name: Micorosft Exchange
                    category: email
                    logo: https://owtlab.com/exchange.png
                    required_integration_fields:
                      - name
                      - email
                      - password
                  summary: Microsoft Exchange</p>

<p>MicrosoftOffice:
                  value: &amp;officeAppProperties
                    id: 6
                    name: Micorosft Office
                    category: email
                    logo: https://owtlab.com/office.png
                    required_integration_fields:
                      - name
                      - email
                      - password
                  summary: Microsoft Office</p>

<p>MicrosoftOutlook:
                  value: &amp;outlookAppProperties
                    id: 7
                    name: Micorosft Outlook
                    category: email
                    logo: https://owtlab.com/outlook.png
                    required_integration_fields:
                      - name
                      - email
                      - password
                  summary: Microsoft Outlook</p>

<p>Yahoo:
                  value: &amp;yahooAppProperties
                    id: 8
                    name: Yahoo
                    category: email
                    logo: https://owtlab.com/yahoo.png
                    required_integration_fields:
                      - email
                      - password
                  summary: Yahoo</p>

<p>Aol:
                  value:  &amp;aolAppProperties
                    id: 9
                    name: Aol
                    category: email
                    logo: https://owtlab.com/aol.png
                    required_integration_fields:
                      - email
                      - password
                  summary: Aol</p>

<p>/apps:
    get:
      security:
        - bearerAuth: []
      summary: List all integration apps
      operationId: listApps
      tags:
        - Apps
      parameters:
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer
            format: int32
      responses:
        &#39;200&#39;:
          description: Paginated results of Apps
          content:
            application/json:
              schema:
                type: object
                properties: &amp;paginationSchema
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/App&quot;
                    description: &quot;The list of apps inside of data&quot;
                  current_page:
                    type: integer
                    description: &quot;Current page of results&quot;
                  first_page_url:
                    type: string
                    description: &quot;First page of results&quot;
                  from:
                    type: integer
                    description: &quot;Pagination from page number display&quot;
                  last_page:
                    type: integer
                    description: &quot;Page number of last available page&quot;
                  last_page_url:
                    type: string
                    description: &quot;Page url of last available page&quot;
                  next_page_url:
                    type: string
                    description: &quot;Url for the next page.&quot;
                  path:
                    type: string
                    description: &quot;Base path of url&quot;
                  per_page:
                    type: integer
                    description: &quot;Number of items listed on page&quot;
                  prev_page_url:
                    type: string
                    description: &quot;Url of previous page&quot;
                  to:
                    type: integer
                    description: &quot;Pagination to page number display&quot;
                  total:
                    type: integer
                    description: &quot;Total number of results&quot;
              example: &amp;paginationExample
                data:
                  - &lt;&lt;: *sendgridAppProperties
                  - &lt;&lt;: *twilioAppProperties
                  - &lt;&lt;: *gmailAppProperties
                  - &lt;&lt;: *exchangeAppProperties
                  - &lt;&lt;: *officeAppProperties
                  - &lt;&lt;: *outlookAppProperties
                  - &lt;&lt;: *yahooAppProperties
                  - &lt;&lt;: *aolAppProperties
                current_page: 1
                first_page_url: https://owtlab.com/api/apps?page=1
                from: 1
                last_page: 1
                last_page_url: https://owtlab.com/api/apps?page=1
                next_page_url: null
                path: https://owtlab.com/api/apps
                per_page: 10
                prev_page_url: null
                to: 9
                total: 9</p>

<p>/contacts:
    post:
      security:
        - bearerAuth: []
      summary: Create a single contact
      description: &#39;Note: Creating a contact requires an email address or a phone number.&#39;
      operationId: storeContacts
      tags:
        - Contacts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &#39;#/components/schemas/Contact&#39;
      responses:
        &#39;201&#39;:
          description: Contact successfully created response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Contact&quot;</p>

<p>get:
      security:
        - bearerAuth: []
      summary: List all contacts
      operationId: listContacts
      tags:
        - Contacts
      parameters:
        - name: user_id
          in: query
          required: false
          schema:
            type: integer
        - name: name
          in: query
          description: Search by name of business
          required: false
          schema:
            type: integer
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer
      responses:
        &#39;200&#39;:
          description: Paginated results of contacts
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Business&quot;
                  &lt;&lt;: *paginationSchema</p>

<p>/contacts/bulk:
   post:
    security:
      - bearerAuth: []
    summary: Create contacts
    description: &quot;Creating contacts in bulk is queued for processing. Creating contacts in bulk will require few minutes for the contacts to show up in the api or dashboard.&quot;
    operationId: storeBulkContacts
    tags:
      - Contacts
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: &#39;#/components/schemas/Contact&#39;
              business_id:
                type: integer
            required:
              - data
              - business_id
    responses:
      &#39;200&#39;:
        description: Contacts queued for upload
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: string
            example:
              success: Contacts queued for upload</p>

<p>/contacts/{contact_id}:
    get:
      security:
        - bearerAuth: []
      summary: Show contact details
      operationId: showContact
      tags:
        - Contacts
      parameters:
        - name: contact_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Contact detail
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Contact&quot;</p>

<p>put:
      security:
        - bearerAuth: []
      summary: Update a contact
      operationId: updateContact
      tags:
        - Contacts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &quot;#/components/schemas/Contact&quot;
      parameters:
        - name: contact_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated contact response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Contact&quot;</p>

<p>delete:
      security:
        - bearerAuth: []
      summary: Delete a contact
      operationId: deleteContact
      tags:
        - Contacts
      parameters:
        - name: contact_id
          in: path
          required: true
          schema:
            type: string</p>

<p>responses:
        &#39;204&#39;:
          description: Successfully deleted a contact</p>

<p>/contacts/duplicates/{business_id}:
    get:
      security:
        - bearerAuth: []
      summary: Get all contacts with duplicate email address or phone number for a specific business id.
      operationId: showDuplicateContacts
      tags:
        - Contacts
      parameters:
        - name: business_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Contacts with duplicate contact info
          content:
            application/json:
              schema:</p>

<p>/contacts/integration/{integration_id}:
    get:
      security:
        - bearerAuth: []
      summary: Import contacts from integration
      description: &quot;You can import contacts directly from an email integration. You can import contacts from the following integrations: <code>gmail</code>, <code>exchange</code>, <code>microsoft office</code>, <code>outlook</code>, <code>yahoo</code>, <code>aol</code>, <code>icloud</code>. &quot;
      operationId: storeIntegrationContacts
      tags:
        - Contacts
      parameters:
        - name: integration_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Integration contacts import job queued
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: string
              example:
                success: Integration contacts import job queued</p>

<p>/transactions:
    post:
      security:
        - bearerAuth: []
      summary: Create a transaction
      operationId: storeTransaction
      tags:
        - Transactions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &#39;#/components/schemas/Transaction&#39;
            example: &amp;transactionExample
              business_id: 1
              transaction_id: 6
              action: &#39;thread_create&#39;
              text_id: &#39;abcdefghijklmnopqrstuvwxyz&#39;
              parent_id: &quot;abcdefghijklmnopqrstuvwxyz
              subject: &quot;Hello World&quot;
              content: &quot;Hey how are you doing?&quot;
              duration: 0
              recording_url: null
              participants: [{
               name: &#39;John Smith&#39;,
               email: &#39;test@example.com&#39;,
               phone: &#39;+1650-555-5555&#39;,
               sender: 1
              }]</p>

<p>responses:
        &#39;201&#39;:
          description: Transaction successfully created response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Transaction&quot;</p>

<p>get:
      security:
        - bearerAuth: []
      summary: List all transactions
      operationId: listTransactions
      tags:
        - Transactions
      parameters:
        - name: business_id
          description: Search by id of business
          in: query
          required: true
          schema:
            type: integer
        - name: app_id
          in: query
          description: Search by id of app
          required: false
          schema:
            type: integer
        - name: parent_id
          in: query
          description: Search by transaction parent id
          required: false
          schema:
            type: string
        - name: action
          in: query
          description: Search by a transaction action
          required: false
          schema:
            $ref: &quot;#/components/schemas/Action&quot;
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer
      responses:
        &#39;200&#39;:
          description: Paginated results of transactions
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Transaction&quot;
                  &lt;&lt;: *paginationSchema</p>

<p>/transactions/{transaction_id}:
    get:
      security:
        - bearerAuth: []
      summary: Show transaction details
      operationId: showTransaction
      tags:
        - Transactions
      parameters:
        - name: transaction_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Transaction detail
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Transaction&quot;
    delete:
      security:
        - bearerAuth: []
      summary: Delete a transaction
      operationId: deleteTransaction
      parameters:
        - name: transaction_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - Transactions
      responses:
        &#39;204&#39;:
          description: Transaction deleted successfully</p>

<p>/integrations:
    get:
      security:
        - bearerAuth: []
      summary: List all integrations
      operationId: listIntegrations
      tags:
        - Integrations
      parameters:
        - name: business_id
          in: query
          description: Search by a business id
          required: true
          schema:
            type: integer
        - name: app_id
          description: Search by an app id
          in: query
          required: false
          schema:
            type: integer
        - name: error
          in: query
          description: Search integrations with error
          required: false
          schema:
            type: boolean
        - name: disabled
          in: query
          description: Search integrations that are disabled
          required: false
          schema:
            type: boolean
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer</p>

<p>responses:
        &#39;200&#39;:
          description: Paginated results of integrations
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Integration&quot;
                  &lt;&lt;: *paginationSchema
              example:
                data: [{
                    &quot;id&quot;: 1,
                    &quot;text_id&quot;: &quot;123&quot;,
                    &quot;name&quot;: &quot;business&quot;,
                    &quot;user_id&quot;: 1,
                    &quot;created_at&quot;: &quot;2019-11-05 14:16:39&quot;,
                    &quot;updated_at&quot;: &quot;2019-11-05 14:16:39&quot;,
                    &quot;created_by&quot;: 1
                }]
                &lt;&lt;: *paginationExample
    post:
      security:
        - bearerAuth: []
      summary: Create an integration
      operationId: storeIntegration
      tags:
        - Integrations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - business_id
                - app_id
                - name
              properties:
                business_id:
                  type: integer
                app_id:
                  type: integer
                name:
                  type: string
                api_key:
                  type: string
                api_secret:
                  type: string
                client_id:
                  type: string
                client_secret:
                  type: string
                bearer_token:
                  type: string
                account_sid:
                  type: string
                redirect_uri:
                  type: string
                password:
                  type: string
                email:
                  type: string
                provider:
                  type: string
                auth_token:
                  type: string</p>

<p>examples:</p>

<p>Sendgrid:
                value:
                  app_id: 1
                  business_id: 1
                  name: Roy&#39;s Sendgrid Account
                  api_key: this_is_a_fake_api_key
                summary: Sendgrid Integration</p>

<p>Twilio:
                value:
                  app_id: 3
                  business_id: 1
                  name: Roy&#39;s Twilio Account
                  account_sid: jlasjdflkajsdflkjafds
                  auth_token: aljdsalfkjasldkfjlasdf
                summary: Twilio Integration</p>

<p>Gmail:
                value:
                  app_id: 4
                  business_id: 1
                  name: Roy&#39;s Gmail Account
                  redirect_uri: https://my_fake_website.com
                summary: Gmail</p>

<p>MicrosoftExchange:
                value:
                  app_id: 5
                  business_id: 1
                  name: Roy&#39;s Micorosft Exchange Account
                  email: test@company.com
                  password: 12345x
                summary: Microsoft Exchange Integration</p>

<p>MicrosoftOffice:
                value:
                  app_id: 6
                  business_id: 1
                  name: Roy&#39;s Micorosft Office Account
                  email: test@company.com
                  password: 12345x
                summary: Microsoft Office Integration</p>

<p>MicrosoftOutlook:
                value:
                  app_id: 7
                  business_id: 1
                  name: Roy&#39;s Micorosft Outlook Account
                  email: test@outlook.com
                  password: 12345x
                summary: Microsoft Outlook Integration</p>

<p>Yahoo:
                value:
                  app_id: 8
                  business_id: 1
                  name: Roy&#39;s Yahoo Account
                  email: test@yahoo.com
                  password: 12345x
                summary: Yahoo Integration</p>

<p>Aol:
                value:
                  app_id: 9
                  business_id: 1
                  name: Roy&#39;s Aol Account
                  email: test@aol.com
                  password: 12345x
                summary: Aol Integration</p>

<p>responses:
        &#39;201&#39;:
          description: Integration successfully created response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Integration&quot;</p>

<p>/integrations/{integration_id}:
    get:
      security:
        - bearerAuth: []
      summary: Show integration details
      operationId: showIntegration
      tags:
        - Integrations
      parameters:
        - name: integration_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Integration detail
          content: &amp;integration_response
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Integration&quot;
              example: {
                &quot;business_id&quot;: 1,
                &quot;app_id&quot;: 4,
                &quot;name&quot;: &quot;roy&#39;s gmail account&quot;,
                &quot;error&quot;: false,
                &quot;error_message&quot;: null,
                &quot;disabled&quot;: false,
                &quot;created_at&quot;: &quot;2019-11-05 14:16:39&quot;,
                &quot;updated_at&quot;: &quot;2019-11-05 14:16:39&quot;
              }
    put:
      security:
        - bearerAuth: []
      summary: Update an integration
      operationId: updateIntegration
      tags:
        - Integrations
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &quot;#/components/schemas/Integration&quot;
      parameters:
        - name: integration_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated integration response
          content:
            &lt;&lt;: *integration_response</p>

<p>delete:
      security:
        - bearerAuth: []
      summary: Delete an integration
      operationId: deleteIntegration
      tags:
        - Integrations
      parameters:
        - name: integration_id
          in: path
          required: true
          schema:
            type: string</p>

<p>responses:
        &#39;204&#39;:
          description: Successfully deleted an integration</p>

<p>/labels:
    get:
      security:
        - bearerAuth: []
      summary: List all labels
      operationId: listLabels
      tags:
        - Labels
      parameters:
        - name: business_id
          in: query
          description: Search by a business id
          required: true
          schema:
            type: integer
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer</p>

<p>responses:
        &#39;200&#39;:
          description: Paginated results of labels
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Label&quot;
                  &lt;&lt;: *paginationSchema
    post:
      security:
        - bearerAuth: []
      summary: Create a Label
      operationId: storeLabel
      tags:
        - Labels
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                label:
                  type: string
                  example: &quot;New label name&quot;
                filters:
                  type: array
                  items:
                    $ref: &quot;#/components/schemas/Filter&quot;</p>

<p>responses:
        &#39;201&#39;:
          description: Label successfully created response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Label&quot;</p>

<p>/labels/{label_id}:
    get:
      security:
        - bearerAuth: []
      summary: Show label details
      operationId: showLabel
      tags:
        - Labels
      parameters:
        - name: label_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Integration detail
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Label&quot;
              example: {
                &quot;id&quot;: 1,
                &quot;business_id&quot;: 1,
                &quot;label&quot;: &quot;Employees&quot;,
                &quot;filter&quot;: [{
                  &quot;field&quot;: &quot;domain&quot;,
                  &quot;condition&quot;: &quot;exact_match&quot;,
                  &quot;value&quot;: &quot;owtlab.com&quot;
                }]
              }
    put:
      security:
        - bearerAuth: []
      summary: Update a label
      operationId: updateLabel
      tags:
        - Labels
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &quot;#/components/schemas/Label&quot;
      parameters:
        - name: label_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated label response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Label&quot;
    delete:
      security:
        - bearerAuth: []
      summary: Delete a label
      operationId: deleteLabel
      tags:
        - Labels
      parameters:
        - name: label_id
          in: path
          required: true
          schema:
            type: string</p>

<p>responses:
        &#39;204&#39;:
          description: Successfully deleted a label</p>

<p>/subscriptions:
    get:
      security:
        - bearerAuth: []
      summary: List all subscriptions
      operationId: listSubscriptions
      tags:
        - Subscriptions
      parameters:
        - name: business_id
          in: query
          required: true
          schema:
            type: integer
        - name: limit
          in: query
          description: How many items to return at one time (max 1000)
          required: false
          schema:
            type: integer
      responses:
        &#39;200&#39;:
          description: Paginated results of subscriptions
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Subscription&quot;
                  &lt;&lt;: *paginationSchema</p>

<p>post:
      security:
        - bearerAuth: []
      summary: Create a Subscription
      operationId: storeSubscription
      tags:
        - Subscriptions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: &quot;#/components/schemas/Subscription&quot;</p>

<p>responses:
        &#39;201&#39;:
          description: Subscription successfully created response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Subscription&quot;</p>

<p>/subscriptions/{subscription_id}:
    get:
      security:
        - bearerAuth: []
      summary: Show subscription details
      operationId: showSubscription
      tags:
        - Subscriptions
      parameters:
        - name: subscription_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Subscription Detail
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Subscription&quot;</p>

<p>put:
      security:
        - bearerAuth: []
      summary: Update a subscription
      operationId: updateSubscription
      tags:
        - Subscriptions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - name
                - title
                - preferences
              properties:
                name:
                  type: string
                  example: &quot;Subscription name&quot;
                title:
                  type: string
                  example: &quot;Title on optin page&quot;
                preferences:
                  type: array
                  items:
                    $ref: &quot;#/components/schemas/Preference&quot;
      parameters:
        - name: subscription_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated subscription response
          content:
            application/json:
              schema:
                $ref: &quot;#/components/schemas/Subscription&quot;</p>

<p>/preferences/{subscription_id}/{email}:
    get:
      security:
        - bearerAuth: []
      summary: Show user&#39;s communication opt settings
      operationId: showPreference
      tags:
        - Preferences
      parameters:
        - name: subscription_id
          in: path
          required: true
          schema:
            type: string
        - name: email
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Client Communication Preference Detail
          content:
            application/json:</p>

<p>schema:
               type: object
               properties:
                preferences:
                  type: array
                  items:
                    $ref: &quot;#/components/schemas/Preference&quot;</p>

<p>/preferences/{email}:
    put:
      security:
        - bearerAuth: []
      summary: Update user&#39;s communication opt settings
      operationId: updatePreference
      tags:
        - Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - subscription_id
                - preferences
              properties:
                subscription_id:
                  type: integer
                  example: 1
                preferences:
                  type: array
                  items:
                    type: object
                    properties:
                      preference_id:
                        type: integer
                        example: 123
                      optin:
                        type: boolean
                        example: 1</p>

<p>parameters:
        - name: email
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated subscription response
          content:
            application/json:
              schema:
                properties:
                  preferences:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Preference&quot;</p>

<p>/preferences/opt/link:
    post:
      security:
        - bearerAuth: []
      summary: Generates an opt link
      operationId: postPreferences
      tags:
        - Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - subscription_id
                - email
              properties:
                subscription_id:
                  type: integer
                  example: &quot;1&quot;
                email:
                  type: string
                  example: &quot;support@owtlab.com&quot;
      responses:
        &#39;201&#39;:
          description: Opt link created successfully
          content:
            application/json:
              schema:
                properties:
                  page_id:
                    type: string
                    example: &quot;dU9cL08rc0RmTUll&quot;
                  opt_link:
                    type: string
                    example: &quot;https://owtlab.com/preferences/opt/page/dU9cL08rc0RmTUll&quot;</p>

<p>/preferences/opt/page/{page_id}:
    get:
      summary: Communication opt settings page
      operationId: showOptPagePreferences
      tags:
        - Preferences
      parameters:
        - name: page_id
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Opt-in/Opt-out Page</p>

<p>put:
      summary: Update communication opt settings from page
      operationId: updateOptPagePreferences
      tags:
        - Preferences
      requestBody:
        required: true
        content:
          application/json:
            schema:
              required:
                - preferences
              properties:
                preferences:
                  type: array
                  items:
                    type: object
                    properties:
                      preference_id:
                        type: integer
                        example: 123
                      optin:
                        type: boolean
                        example: 1</p>

<p>parameters:
        - name: page_id
          description: &quot;The page id created from generated an opt link&quot;
          in: path
          required: true
          schema:
            type: string
      responses:
        &#39;200&#39;:
          description: Updated subscription response
          content:
            application/json:
              schema:
                properties:
                  preferences:
                    type: array
                    items:
                      $ref: &quot;#/components/schemas/Preference&quot;</p>

<p>components:
  securitySchemes:
    bearerAuth:
        type: http
        scheme: bearer
  schemas:
    App:
      type: object
      properties:
        id:
          type: integer
          description: &quot;id of app&quot;
          example: &quot;1&quot;
        logo:
          type: string
          description: &quot;app logo&quot;
          example: &quot;https://owtlab.com/logo.png&quot;
        name:
          type: string
          description: &quot;name of 3rd party app&quot;
          example: &quot;Twilio&quot;
        category:
          type: string
          description: &quot;category of 3rd party app&quot;
          example: &quot;Marketing&quot;
        required_integration_fields:
          type: array
          description: &quot;The required fields for integrating this app with Owtlab. Each app will have various required fields to integrate successfully with Owtlab.&quot;
          items:
            $ref: &quot;#/components/schemas/AuthField&quot;</p>

<p>Business:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
          example: 1
        name:
          type: string
          example: &quot;John Smith&quot;
        user_id:
          type: integer
          example: 1
        created_by:
          type: integer
          readOnly: true
          example: 2
        created_at:
          type: string
          readOnly: true
          example: &quot;2019-11-09 14:58:08&quot;
        updated_at:
          type: string
          readOnly: true
          example: &quot;2019-11-09 14:58:08&quot;</p>

<p>Contact:
      type: object
      required:
        - business_id
        - first_name
        - last_name
        - email
        - phone
      properties:
        business_id:
          type: integer
          description: &quot;The business id that can be found on your dashboard&quot;
          example: &quot;1&quot;
        first_name:
          type: string
          description: &quot;First name of contact&quot;
          example: &quot;John&quot;
        last_name:
          type: string
          description: &quot;Last name of contact&quot;
          example: &quot;Smith&quot;
        email:
          type: string
          description: &quot;The email address of the contact&quot;
          example: &quot;John@example.com&quot;
        phone:
          type: string
          description: &quot;The phone number of the contact&quot;
          example: &quot;650-555-5555&quot;
        title:
          type: string
          description: &quot;Job title&quot;
          example: &quot;Software Engineer&quot;
        company:
          type: string
          description: &quot;Company name&quot;
          example: &quot;Owtlab&quot;
        domain:
          type: string
          description: &quot;Domain of the email, by default, we will use the email&#39;s domain.&quot;
          example: &quot;example.com&quot;
        dob:
          type: string
          description: &quot;Date of birth&quot;
          example: &quot;05-20-1994&quot;
        image:
          type: string
          description: &quot;Contact profile image&quot;
          example: &quot;https://owtlab.com/profile.png&quot;
        address_line:
          type: string
          description: &quot;Address line&quot;
          example: &quot;111 street example&quot;
        address_line2:
          type: string
          description: &quot;Address line 2&quot;
        city:
          type: string
          example: &quot;San Francisco&quot;
          description: &quot;City&quot;
        state:
          type: string
          example: &quot;CA&quot;
          description: &quot;State&quot;
        zipcode:
          type: string
          example: &quot;94128&quot;
          description: &quot;Zipcode&quot;
        country:
          type: string
          description: &quot;Country&quot;
          example: &quot;US&quot;
        created_at:
          type: string
          description: &quot;Creation date in owtlab&quot;
          example: &quot;2019-11-09 14:58:08&quot;
          readOnly: true
        updated_at:
          type: string
          description: &quot;Update date in owtlab&quot;
          example: &quot;2019-11-09 14:58:08&quot;
          readOnly: true</p>

<p>Label:
      type: object
      required:
        - business_id
        - label
        - filter
      properties:
        business_id:
          type: integer
          description: &quot;The business id that can be found on your dashboard&quot;
          example: 1
        label:
          type: string
          example: &quot;Engineering&quot;
          description: &quot;Label name&quot;
        filter:
          type: array
          items:
            $ref: &quot;#/components/schemas/Filter&quot;
        created_at:
          type: string
          example: &quot;2019-11-09 14:58:08&quot;
          description: &quot;Creation date in owtlab&quot;
          readOnly: true
        updated_at:
          type: string
          example: &quot;2019-11-09 14:58:08&quot;
          description: &quot;Update date in owtlab&quot;
          readOnly: true</p>

<p>Integration:
      type: object
      required:
        - business_id
        - app_id
        - name
      properties:
        business_id:
          type: integer
          description: &quot;The business id that can be found on your dashboard&quot;
        app_id:
          type: integer
          description: &quot;The app id of the supported 3rd party apps in owtlab&quot;
        name:
          type: string
          description: &quot;Integration name such as Twilio, Sendgrid, etc...&quot;
        error:
          type: boolean
          description: &quot;The error flag will be set to true if we find a problem with your integration&quot;
        disabled:
          type: boolean
          description: &quot;You can disable or enable your integration. Once disabled, we stopped tracking communication from this particular integration&quot;
        error_message:
          type: string
          description: &quot;A detailed error message with your account if issues found.&quot;
        created_at:
          type: string
          description: &quot;Creation date in owtlab&quot;
          readOnly: true
        updated_at:
          type: string
          description: &quot;Update date in owtlab&quot;
          readOnly: true</p>

<p>Preference:
      type: object
      properties:
        preference_id:
          type: integer
          readOnly: true
          example: 1
          description: &quot;The id of the preference&quot;
        name:
          type: string
          example: &quot;Daily Newsletter&quot;
          description:
            &quot;The title of the opt-in checkbox displayed to the user.&quot;
        description:
          type: string
          example: &quot;Preference description&quot;
          description: &quot;A simple description that will be displayed to the user in the opt page.&quot;
        default:
          type: boolean
          example: trued
          description: &quot;The default optin value. User&#39;s will be automatically opted in for this preferece by default.&quot;
        active:
          type: boolean
          description: &quot;Active determines if a particular option should be displayed to the user or not.&quot;
          example: true</p>

<p>Subscription:
      type: object
      required:
        - business_id
        - name
        - title
        - preferences
      properties:
        id:
          type: integer
          readOnly: true
          example: 1
          description: &quot;The id of the subscription&quot;
        business_id:
          type: integer
          writeOnly: true
          example: 1
          description: &quot;The business id that can be found on your dashboard&quot;
        name:
          type: string
          example: &quot;Owtlab&quot;
          description: &quot;Name of company&quot;
        title:
          type: string
          example: &quot;Title on optin page&quot;
          description: &quot;The title to be displayed on the optin page&quot;
        preferences:
          type: array
          description: &quot;List of communication checkbox settings to display to user&quot;
          items:
            $ref: &quot;#/components/schemas/Preference&quot;
        logo:
          type: string
          example: &quot;https://owtlab.com/logo.png&quot;
          description: &quot;Logo of business&quot;
        created_at:
          type: string
          example: &quot;2019-11-20 05:50:12&quot;
          readOnly: true
          description: &quot;Creation date in owtlab&quot;
        updated_at:
          type: string
          example: &quot;2019-11-20 05:50:12&quot;
          readOnly: true
          description: &quot;Update date in owtlab&quot;</p>

<p>Transaction:
      type: object
      required:
        - business_id
        - action
      properties:
        business_id:
          type: integer
          example: 1
          description: &quot;The business id that can be found on your dashboard&quot;
        action:
          $ref: &quot;#/components/schemas/Action&quot;
          description: &quot;An action that describes the transaction&quot;
        integration_id:
          type: integer
          example: 1
          description: &quot;The id from the integrations you have connected with owtlab that this transaction belongs to&quot;
        app_id:
          type: integer
          example: 1
          description: &quot;the id of the 3rd party app&quot;
        text_id:
          type: string
          example: &quot;id_in_text_version&quot;
          readOnly: true
          description: &quot;A unique text id that owtlab generates or uses from 3rd party integrations.&quot;
        parent_id:
          type: string
          example: &quot;transaction_parent_id&quot;
          description: &quot;The parent id of a transaction&quot;
        subject:
          type: string
          example: &quot;Hello Roy!&quot;
          description: &quot;The email subject line of an email message&quot;
        content:
          type: string
          example: &quot;This is the content of a email message or sms&quot;
          description: &quot;The content of email, sms, or other types of transactions&quot;
        duration:
          type: integer
          description: &quot;The duration of a phone call, this will be null or 0 if not applicable.&quot;
        timestamp:
          type: integer
          example: 1573428600
          description: &quot;The actual timestamp of when the transaction has occured&quot;
        created_at:
          description: &quot;Creation date in owtlab&quot;
          type: string
        participants:
          description: &quot;All the people that were involved in this transaction.&quot;
          type: array
          items:
            $ref: &quot;#/components/schemas/Participant&quot;
        recording_url:
          type: string
          description: &quot;If recording is enabled in twilio for example, there will be a url for the recorded call&quot;</p>

<p>Participant:
      type: object
      properties:
        name:
          type: string
          example: &quot;John Smith&quot;
          description: &quot;Name of participant&quot;
        email:
          type: string
          example: &quot;test@example.com&quot;
          description: &quot;Email address of the participant&quot;
        phone:
          type: string
          example: &quot;+16505555555&quot;
          description: &quot;Phone number of the participant&quot;
        sender:
          type: boolean
          example: 1
          description: &quot;Indicator whether this participant had initiated the transaction or not.&quot;</p>

<p>Filter:
      type: object
      properties:
        field:
         $ref: &quot;#/components/schemas/FilterField&quot;
        condition:
          $ref: &quot;#/components/schemas/FilterCondition&quot;
        value:
          type: string
          example: &quot;owtlab.com&quot;</p>

<p>FilterField:
      type: string
      example: domain
      enum:
        - integration_id,
        - first_name,
        - last_name,
        - email,
        - phone,
        - company,
        - title,
        - state,
        - country</p>

<p>FilterCondition:
      type: string
      enum:
        - exact_match
        - non_match</p>

<p>AuthField:
      type: string
      enum:
        - api_key
        - api_secret
        - client_id
        - client_secret
        - bearer_token
        - account_sid
        - redirect_uri
        - password
        - email
        - provider
        - auth_token
        - oauth
        - name</p>

<p>Action:
      type: string
      example: thread_create
      enum:
        - sms_delivered
        - sms_received
        - thread_create
        - thread_reply
        - call_initiated
        - call_completed
        - call_no_answer
        - call_recording</p>

<p>tags:
  - name: Apps
    description: List of 3rd party apps that you can integrate with owtlab.
  - name: Contacts
    description: Manage contacts via the api or through owtlab&#39;s dashboard. A contact is required to have either a phone number or an email address. You can create contacts either by using the api directly, or importing through owtlab&#39;s dashboard.
  - name: Transactions
    description: Any client communication toucpoint is called a transaction. A transaction is typically created anytime there is an email, sms, call, video, calendar or helpdesk communication between the client and your business. Once you connect an integration, Owtlab will then automagically track all client touchpoints and make it available in one centralized api or dashboard for you to access.
  - name: Integrations
    description: Integrations are a list of 3rd party applications that you have connected with our platform. You can integrate your gmail account for example, via the api or through the dashboard. Once you integrate your application with owtlab, we will then immediately start tracking all commmunication that happen from that integration.
  - name: Labels
    description: Labels are a way to categories or group your contacts. A label is created based on a defined rule. For example, you can create a label <code>Employees</code> by setting a rule, <code>if email domain == &#39;company.com&#39;</code>, then label them as <code>Employees</code>.
  - name: Subscriptions
    description: A subscription is a way to manage your client communication settings. Once you configure a list of optin options for your users to select, we take the hassle of managing all communication preference updates.
    externalDocs:
      url: &quot;https://youtube.com&quot;
  - name: Email Preferences
    description: Preferences are the user&#39;s optin settings that they have configured. You can generate an optout link with Owtlab&#39;s api to include in the footer of your emails and will manage the user&#39;s optout updates.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
